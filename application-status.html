<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>신청현황</title>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", sans-serif;
            background-color: #fff;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            padding: 0;
        }

        .container {
            width: 100%;
            max-width: 480px;
            padding: 0 15px;
        }

        .title {
            font-size: 36px;
            font-weight: 800;
            color: #333;
            text-align: center;
            margin: 0 0 30px 0;
        }

        .table-container {
            background-color: #fff;
            border-radius: 15px;
            overflow: hidden;
        }

        .table-header {
            display: grid;
            grid-template-columns: 1fr 1.5fr 1.5fr 1fr;
            background-color: #2d2d2d;
            padding: 15px 10px;
            border-radius: 10px 10px 0 0;
        }

        .table-header span {
            color: #fff;
            font-size: 14px;
            font-weight: 600;
            text-align: center;
        }

        .table-body {
            border: 1px solid #ddd;
            border-top: none;
            border-radius: 0 0 10px 10px;
            overflow: hidden;
        }

        .table-row {
            display: grid;
            grid-template-columns: 1fr 1.5fr 1.5fr 1fr;
            padding: 18px 10px;
            border-bottom: 1px solid #eee;
            align-items: center;
            animation: fadeIn 0.5s ease-in-out;
        }

        .table-row:last-child {
            border-bottom: none;
        }

        .table-row.new-row {
            background-color: #fffde7;
            animation: highlight 2s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes highlight {
            0% {
                background-color: #fff9c4;
            }
            100% {
                background-color: #fff;
            }
        }

        .table-row span {
            font-size: 14px;
            color: #333;
            text-align: center;
        }

        .table-row .name {
            font-weight: 600;
        }

        .table-row .phone {
            color: #666;
        }

        .table-row .message {
            font-size: 13px;
            color: #555;
            line-height: 1.3;
        }

        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            color: #fff;
        }

        .status-complete {
            background-color: #ff6b6b;
        }

        .status-new {
            background-color: #51cf66;
        }

        .status-pending {
            background-color: #ffd43b;
            color: #333;
        }

        .status-cell {
            display: flex;
            justify-content: center;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1 class="title">신청현황</h1>

        <div class="table-container">
            <div class="table-header">
                <span>이름</span>
                <span>전화번호</span>
                <span>문의사항</span>
                <span>신청현황</span>
            </div>

            <div class="table-body" id="tableBody">
                <!-- 데이터가 여기에 동적으로 추가됩니다 -->
            </div>
        </div>
    </div>

    <script>
        // --- Configuration ---
        const config = {
            updateInterval: 5000, // 5초마다 새 신청 추가
            maxRows: 5 // 최대 표시 행 수 (모바일 최적화)
        };

        // 샘플 데이터
        const sampleData = [
            { name: '문**', phone: '010****4052', message: '초보도 가능할까요?', status: 'complete' },
            { name: '윤**', phone: '010****8803', message: '실제 수익이 궁금해요', status: 'new' },
            { name: '고**', phone: '010****4679', message: '수강료가 궁금해요', status: 'complete' },
            { name: '한**', phone: '010****8453', message: '직장인도 병행 가능한가요?', status: 'complete' },
            { name: '한**', phone: '010****8275', message: '얼마나 걸리나요?', status: 'complete' },
            { name: '문**', phone: '010****3405', message: '온라인으로 가능한가요?', status: 'complete' },
            { name: '김**', phone: '010****1234', message: '40대도 가능할까요?', status: 'pending' },
            { name: '이**', phone: '010****5678', message: '취업 연계되나요?', status: 'new' },
            { name: '박**', phone: '010****9012', message: '부업으로 괜찮을까요?', status: 'complete' },
            { name: '최**', phone: '010****3456', message: '합격률이 궁금해요', status: 'new' },
            { name: '정**', phone: '010****7890', message: '비용 할부 되나요?', status: 'complete' },
            { name: '강**', phone: '010****2345', message: '시간 투자 많이 해야하나요?', status: 'pending' },
        ];

        // 이름 목록
        const lastNames = ['김', '이', '박', '최', '정', '강', '조', '윤', '장', '임', '한', '오', '서', '신', '권', '황', '안', '송', '류', '홍'];

        // 메시지 목록
        const messages = [
            '초보도 가능할까요?',
            '수강료가 궁금해요',
            '취업 연계되나요?',
            '자격증 난이도가 어때요?',
            '얼마나 걸리나요?',
            '온라인으로 가능한가요?',
            '실제 수익이 궁금해요',
            '시간 투자 많이 해야하나요?',
            '40대도 가능할까요?',
            '부업으로 괜찮을까요?',
            '자격증 종류가 뭔가요?',
            '합격률이 궁금해요',
            '비용 할부 되나요?',
            '수료 후 지원 있나요?',
            '교재비 별도인가요?',
            '직장인도 병행 가능한가요?'
        ];

        // 현재 표시된 데이터
        let currentData = [...sampleData.slice(0, 5)];

        // 상태 뱃지 HTML 생성
        function getStatusBadge(status) {
            const statusMap = {
                'complete': { text: '신청완료', class: 'status-complete' },
                'new': { text: '신규접수', class: 'status-new' },
                'pending': { text: '대기중', class: 'status-pending' }
            };
            const s = statusMap[status] || statusMap['complete'];
            return `<span class="status-badge ${s.class}">${s.text}</span>`;
        }

        // 테이블 행 HTML 생성
        function createRow(data, isNew = false) {
            return `
                <div class="table-row ${isNew ? 'new-row' : ''}">
                    <span class="name">${data.name}</span>
                    <span class="phone">${data.phone}</span>
                    <span class="message">${data.message}</span>
                    <div class="status-cell">${getStatusBadge(data.status)}</div>
                </div>
            `;
        }

        // 테이블 렌더링
        function renderTable() {
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = currentData.map((data, index) => createRow(data, index === 0 && data.isNew)).join('');
        }

        // 랜덤 데이터 생성
        function generateRandomData() {
            const name = lastNames[Math.floor(Math.random() * lastNames.length)] + '**';
            const phone = '010****' + Math.floor(1000 + Math.random() * 9000);
            const message = messages[Math.floor(Math.random() * messages.length)];
            const statuses = ['complete', 'new', 'pending'];
            const statusWeights = [0.7, 0.2, 0.1]; // 70% 완료, 20% 신규, 10% 대기

            let random = Math.random();
            let status = 'complete';
            if (random < statusWeights[2]) {
                status = 'pending';
            } else if (random < statusWeights[1] + statusWeights[2]) {
                status = 'new';
            }

            return { name, phone, message, status, isNew: true };
        }

        // 새 데이터 추가
        function addNewData() {
            const newData = generateRandomData();
            currentData.unshift(newData);

            if (currentData.length > config.maxRows) {
                currentData.pop();
            }

            renderTable();

            // 2초 후 new 플래그 제거
            setTimeout(() => {
                if (currentData[0]) {
                    currentData[0].isNew = false;
                }
            }, 2000);
        }

        // 초기 렌더링
        renderTable();

        // 주기적으로 새 데이터 추가
        setInterval(addNewData, config.updateInterval);
    </script>
</body>

</html>
